<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hexo之NexT主题优化（4）-添加文章访问数和站点访问数]]></title>
    <url>%2F2017%2F05%2F26%2FHexo%E7%9A%84NexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96-%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E6%95%B0%E5%92%8C%E7%AB%99%E7%82%B9%E8%AE%BF%E9%97%AE%E6%95%B0%2F</url>
    <content type="text"><![CDATA[前言 真的是要烦死了，还要搞自己的博客，还要完成公司分配的任务，在搭建博客的道路上真的是坎坷呀，就单单说这个文章阅读数和站点访问量，就把我搞的头昏眼花的， 网上的教程真的是鱼龙混杂呀，什么样的都有，都混淆了。现在我搞定了，我就写一个比较全面而且精准的设置方法。供大家参考，希望可以给你们带来方便，不会像我这么痛苦了。 添加站点访问量&lt;一&gt;添加不蒜子脚本 打开主题themes\next\layout_partials下面的footer.swig文件，在最开头的位置添加如下demo： 12&lt;script async src=&quot;https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt; &lt;二&gt;添加标签 要显示站点总访问量，复制以下代码添加到你需要显示的位置。有两种算法可选： 1.算法a：pv的方式，单个用户连续点击n篇文章，记录n次访问量。 123&lt;span id=&quot;busuanzi_container_site_pv&quot;&gt; 本站总访问量&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次&lt;/span&gt; 2.算法b：uv的方式，单个用户连续点击n篇文章，只记录1次访客数。(DaMiss使用的方式) 123&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt; 本站总访问量&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;次&lt;/span&gt; 如果你使用的是Hexo的NexT主题话，打开主题themes\next\layout_partials下面的footer.swig文件，添加上面的任意一种方式即可。 也就是说，添加网站访问量最终的方法就是在themes\next\layout_partials下面的footer.swig文件，添加： 12345&lt;script async src=&quot;https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt; 本站访客数&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人次&lt;/span&gt; 添加文章阅读量NexT主题目前已经合并这个Feature，因此如果你使用的是NexT主题，可以直接使用不用修改主题模版而直接在_config.yml中配置即可 申请leanCloud账号进入leanCloud官网（https://leancloud.cn/），申请一个账号 申请账号之后：创建一个新应用 然后点击应用名称链接: 创建一个新的class： 由于LeanCloud升级了默认的ACL权限，如果你想避免后续因为权限的问题导致次数统计显示不正常，建议在此处选择无限制。 然后在你创建的应用下面找到左侧的设置复制AppID 和AppKey： 修改Next主题下面的配置文件_config.yml在相应的位置填入一下内容，没有的话就新增 1234leancloud_visitors: enable: true app_id: 刚才复制的id app_key: 刚才复制的key 最终的展示效果站点访问量 文章阅读数量 OK，大功告成，是不是很简单明了，如你还有疑问，请在评论处留言]]></content>
      <categories>
        <category>搭建博客</category>
      </categories>
      <tags>
        <tag>leanCloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo之NexT主题优化（3）-添加分享]]></title>
    <url>%2F2017%2F05%2F25%2FHexo%E4%B9%8BNexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96-%E6%B7%BB%E5%8A%A0%E5%88%86%E4%BA%AB%2F</url>
    <content type="text"><![CDATA[前言 当你看到Damiss的博客，是不是觉得写得很好，想要分享呢，行动起来吧。本篇博客就手把手教你给自己的博客添加分享功能，DaMiss使用的是ShareSDk社会化分享组件 注册ShareSDK账号1.官网地址：http://www.mob.com/ 2.注册登陆成功之后，点击 3.创建自己的应用，应用名称随便写，类型选择web 4.在创建的应用状况里面找到App key 复制下来 添加文件1.找到\themes\next\layout_partials\share，在这个目录下面新建文件sharesdk.swig,并输入一下代码。(注意，早发布之后，可能会出现乱码，你解决办法是你要把这个文件转成utf-8编码即可) 12345678910111213141516171819202122232425262728&lt;!--MOB SHARE BEGIN--&gt; &lt;div class=&quot;-mob-share-ui-button -mob-share-open&quot;&gt;分享&lt;/div&gt; &lt;div class=&quot;-mob-share-ui&quot; style=&quot;display: none&quot;&gt; &lt;ul class=&quot;-mob-share-list&quot;&gt; &lt;li class=&quot;-mob-share-weibo&quot;&gt;&lt;p&gt;新浪微博&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-tencentweibo&quot;&gt;&lt;p&gt;腾讯微博&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-qzone&quot;&gt;&lt;p&gt;QQ空间&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-qq&quot;&gt;&lt;p&gt;QQ好友&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-weixin&quot;&gt;&lt;p&gt;微信&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-douban&quot;&gt;&lt;p&gt;豆瓣&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-renren&quot;&gt;&lt;p&gt;人人网&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-kaixin&quot;&gt;&lt;p&gt;开心网&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-facebook&quot;&gt;&lt;p&gt;Facebook&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-twitter&quot;&gt;&lt;p&gt;Twitter&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-pocket&quot;&gt;&lt;p&gt;Pocket&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-google&quot;&gt;&lt;p&gt;Google+&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-youdao&quot;&gt;&lt;p&gt;有道云笔记&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-mingdao&quot;&gt;&lt;p&gt;明道&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-pengyou&quot;&gt;&lt;p&gt;朋友网&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-tumblr&quot;&gt;&lt;p&gt;Tumblr&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-instapaper&quot;&gt;&lt;p&gt;Instapaper&lt;/p&gt;&lt;/li&gt; &lt;li class=&quot;-mob-share-linkedin&quot;&gt;&lt;p&gt;LinkedIn&lt;/p&gt;&lt;/li&gt; &lt;/ul&gt; &lt;div class=&quot;-mob-share-close&quot;&gt;取消&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;-mob-share-ui-bg&quot;&gt;&lt;/div&gt; &lt;script id=&quot;-mob-share&quot; src=&quot;http://f1.webshare.mob.com/code/mob-share.js?appkey=&#123;&#123; theme.shareSDKappkey &#125;&#125;&quot;&gt;&lt;/script&gt; &lt;!--MOB SHARE END--&gt; 2.打开\themes\next\layout\post.swig，将以下代码 1234567891011&lt;div class=&quot;post-spread&quot;&gt; &#123;% if theme.jiathis %&#125; &#123;% include &apos;_partials/share/jiathis.swig&apos; %&#125; &#123;% elseif theme.baidushare %&#125; &#123;% include &apos;_partials/share/baidushare.swig&apos; %&#125; &#123;% elseif theme.add_this_id %&#125; &#123;% include &apos;_partials/share/add-this.swig&apos; %&#125; &#123;% elseif theme.duoshuo_shortname and theme.duoshuo_share %&#125; &#123;% include &apos;_partials/share/duoshuo_share.swig&apos; %&#125; &#123;% endif %&#125; &lt;/div&gt; 替换成： 12345678910111213&lt;div class=&quot;post-spread&quot;&gt; &#123;% if theme.jiathis %&#125; &#123;% include &apos;_partials/share/jiathis.swig&apos; %&#125; &#123;% elseif theme.baidushare %&#125; &#123;% include &apos;_partials/share/baidushare.swig&apos; %&#125; &#123;% elseif theme.add_this_id %&#125; &#123;% include &apos;_partials/share/add-this.swig&apos; %&#125; &#123;% elseif theme.duoshuo_shortname and theme.duoshuo_share %&#125; &#123;% include &apos;_partials/share/duoshuo_share.swig&apos; %&#125; &#123;% elseif theme.sharesdk %&#125; &#123;% include &apos;_partials/share/sharesdk.swig&apos; %&#125; &#123;% endif %&#125; &lt;/div&gt; 配置主题配置文件新添加代码： 12sharesdk: trueshareSDKappkey: 你的appkey OK ,大功告成，如有疑问，请在评论处留言。]]></content>
      <categories>
        <category>搭建博客</category>
      </categories>
      <tags>
        <tag>ShareSDK</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo之NexT主题优化（2）-添加评论]]></title>
    <url>%2F2017%2F05%2F24%2FHexo%E4%B9%8BNexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96-%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[前言 在搭建成功自己的博客之后，就迫不及待的把自己的经验写下来，供大家分享使用。然后大家在看的时候难免有些小疑问，这时候还要在去搜其他的文章，Damiss本着帮人帮到底的原则，就给自己的博客添加了评论功能，这样广大博友在看的时候，有疑问或者有意见可直接在评论里面给DaMiss留言，我看到后会及时回复大家。废话不多说，接下来DaMiss就把怎么在自己的博客中添加评论的经验分享给大家。 踩坑:我在注册完成网易云跟帖之后，开始保存自己的基本信息和站长信息的时候，一直提示我的站点名称或者站点url已经存在，死活保存不了，这个让我很苦恼，几经折腾我找到了网易云跟帖的技术支撑QQ群:538146343,在这里我找到了原因，因为我的博客是托管在github上，自动分配的域名happyfyq.github.io是一个二级域名，并且网易云跟帖不支持这个github自动分配的域名，他们建议要买一个一级域名，于是乎Damiss就开始去买域名，然后在注册跟帖，然后添加评论。 购买域名并解析我是在https://dcc.godaddy.com 上买的域名，不贵，大家都买的起，哈哈。买好域名就需要解析域名，解析的意思就是你的这个域名要绑定到那个网址上，然后访问这个域名就等同于访问这个网址，我的博客是托管在github上的，肯定是将域名解析到我的github pages上。 1.打开你的站点目录文件下的source文件，比如：E:\myBlog\source 2.在这个source文件夹下面建一个名为CNAME的文件，注意是大写，并且没有后缀，内容就是你刚在在狗爹申请的域名。 2.回到狗爹的主页，我的产品： 3.点击域名链接 4.向下拉找到： 5.新添加Record和一条CNAME Record.具体如图所示： 到此，我们的域名申请好了，也解析好了。等待一分钟之后你就可以访问 你申请的域名了，比如DaMiss的是happywayq.com 打开之后显示的和happyfyq.github.io以前显示的一样。 申请网易云跟帖然后进行填写信息1.基本信息中的站点网址就是我们刚才在狗爹申请的域名。 2.保存完成之后，复制里面的productKey： 配置评论打开主题配置文件，找到 Gentie productKey，修改为以下代码： 12# Gentie productKeygentie_productKey: &apos;填写你刚才复制的key&apos; OK，大功告成，如有疑问，请在评论处留言。]]></content>
      <categories>
        <category>搭建博客</category>
      </categories>
      <tags>
        <tag>GoDaddy GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo之NexT主题优化（1）-修改默认]]></title>
    <url>%2F2017%2F05%2F23%2FHexo%E4%B9%8BNexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%2F</url>
    <content type="text"><![CDATA[前言在《超详细搭建自己的博客》里面我们已经可以把自己的博客提交到github上面，但是hexo默认的主题不是很好看，所以想着更换一下主题，在网上也搜了好多教程，结合自己的理解，在这里在总结一篇比较详细，比较全面的更换主题的博文，以后如果在发现可以更换的地方，DaMiss会及时更新博文的。 NEXT主题下载clone主题1.首先在你的站点目录的themes目录下面新建一个文件夹next，用来保存我们clone的主题.2.cmd切换到站点目录下面（这个站点目录说的就是你存放博客的主目录，例如：E:\myBlog）,输入以下命令1git clone https://github.com/iissnan/hexo-theme-next themes/next 3.等待clone完成，然后修改我们的站点配置文件_config.yml1theme:next OK .到此主题切换完成，我们继续修改next主题当中的一些默认的东西。 更换主题默认设置文章代码主题Next主题总共支持5种主题，默认主题是白色的normal。通过修改next主题下的_config.yml的highlight字段，来设置代码主题。 本站点使用的是night bright，即highlight:night bright 更换头像1.在主题文件下面找到source文件夹，在这个文件夹下面新建一个文件夹uploads，里面存放我们的头像avatar.png，这个头像你们随意设置，到时候配置 文件统一就可以，头像也可以是gif形式的。2.在站点配置文件新添加一个属性avatar，值设置成头像的存储路径径。1avatar: /uploads/avatar.png 修改主题的风格修改主题配置文件的_config.yml文件的scheme属性，有三种风格，DaMiss选用的是Pisces，是左右类型的。1234# Schemes#scheme: Pisces#scheme: Mistscheme: Pisces 修改代码的字体大小修改主题配置文件的_config.yml文件1234codes: external: true family: //还可以修改字体，这里我没有修改 size: 17 //新加的 修改主题语言1.next主题的所有语言配置文件都在\themes\next\languages文件夹下，可以看到中文对应的是zh-Hans.yml，英文对应的是en.yml 。2.如果你希望自己的menu显示中文，就将你的站点的配置文件_config.yml里面language行进行如下配置：123456title: 叫我阿怡DaMisssubtitle: GOGoGOGooddescription: 德智体美全面发展的小红帽author: happyfyqlanguage: zh-Hans //中文timezone: Asia/Shanghai 修改首页目录(目录的顺序可以在主题配置文件_config.yml文件修改顺序） 添加分类页面1.打开cmd输入命令,新添加一个分类页面1hexo new page categories 2.在 source/categories 目录的 index.md 中修改你想要的内容:1234title: 分类date: 2017-5-23 12:44:45type: &quot;categories&quot; //新添加的--- 3.在主题的 _config.yml 中取消注释:1categories: /categories 4.在要分类的文章中加入 category 属性:1category: &quot;hexo&quot; # 分类为 hexo 添加标签页面1.打开cmd输入命令,新添加一个标签页面1hexo new page tags 2.在 source/tags 目录的 index.md 中修改:1234title: tagsdate: 2017-5-23 12:10:34type: &quot;tags&quot; //新添加的--- 3.在主题的 _config.yml 中取消注释:1tags: /tags 4.在需要变迁的文章中加入 tags 属性:1tags: [spark,sparkSQL] # 添加spark和sparkSQL两个标签 添加关于页面1.打开cmd输入命令,新添加一个标签页面1hexo new page about 2.在 source/about 目录的 index.md 中修改（里面可以写一些关于自己的介绍）:1234---title: 不着急，得小范老师完善date: 2017-05-22 16:27:49--- 3.在主题的 _config.yml 中取消注释:1about: /about 修改站点LOGO1.通过网站favicon在线制作http://tool.lu/favicon/制作favicon图片，logo最好设置32*32。2.next主题：将图片放在next主题source/images目录下3.在next主题配置文件中添加：1favicon: images/favicon.ico 更改NexT主题的背景图片1.首先找到一个背景图片放到 hexo（hexo工程文件）-&gt; themes -&gt; next -&gt; source -&gt; images 的路径下。2.hexo（hexo工程文件）-&gt; themes -&gt; next -&gt; source -&gt; css -&gt; _custom ，找到路径下的custom.styl文件，在文件的最上方加上一代码-body { background:url(/images/backGround.jpg);} 就完事了，但是想要保证图片平铺并且充满屏幕不随屏幕滚动需要再添加点css样式，如下命令： 123456body &#123; margin:0;background:url(/images/backGround.jpg);background-size:100% 100%;background-attachment: fixed;&#125; 添加友情链接打开站点的配置文件_config.yml，修改下面的属性,例如这个freeman博客是显示在页面上的title。123456# Blog rollslinks_title: 友情链接links_layout: block#links_layout: inlinelinks: freeman博客: &quot;https://freemanr.github.io&quot; 删除NexT主题页脚的部分内容打开/themes/next/layout/_partials/footer.swig文件，删除掉class 为powered-by的div和theme-info的div即可，删掉之后的code是： 12345678910111213141516&lt;script async src=&quot;https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt; 本站访客数&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人次&lt;/span&gt;&lt;!-- 上面这部分是设置访问人数的，如果你没有设置的话，是没有的。 --&gt;&lt;div class=&quot;copyright&quot; &gt; &#123;% set current = date(Date.now(), &quot;YYYY&quot;) %&#125; &amp;copy; &#123;% if theme.since and theme.since != current %&#125; &#123;&#123; theme.since &#125;&#125; - &#123;% endif %&#125; &lt;span itemprop=&quot;copyrightYear&quot;&gt;&#123;&#123; current &#125;&#125;&lt;/span&gt; &lt;span class=&quot;with-love&quot;&gt; &lt;i class=&quot;fa fa-&#123;&#123; theme.authoricon &#125;&#125;&quot;&gt;&lt;/i&gt; &lt;/span&gt; &lt;span class=&quot;author&quot; itemprop=&quot;copyrightHolder&quot;&gt;&#123;&#123; config.author &#125;&#125;&lt;/span&gt;&lt;/div&gt; 设定主页仅显示简介1.打开站点目录的主题配置文件next/_config.yml 2.修改auto_excerpt，将原来的false设置成true 123auto_excerpt: enable: true length: 150 //这里可以设置简介的长度 开启打赏功能现在的NexT主图已经添加了这个功能，你只要在主题配置文件里面添加(图片是你的支付宝和微信付款图片123reward_comment: 坚持原创技术分享，您的支持将鼓励我继续创作！wechatpay: http://oqhkn28th.bkt.clouddn.com/shoukuan2%20%281%29.JPGalipay: http://oqhkn28th.bkt.clouddn.com/shoukuan2%20%282%29.JPG 添加fork me on github去网址https://github.com/blog/273-github-ribbons 挑选自己喜欢的样式，并复制代码，添加到themes\next\layout_layout.swig的body标签之内即可记得把里面的url换成自己的! 将站点预览的头像变成圆形的修改themes\next\source\css_common\components\sidebar\sidebar-author.styl： 将site-author-image替换成123456789101112131415161718192021222324.site-author-image &#123; display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: site-author-image-border-color; /* start*/ border-radius: 50% webkit-transition: 1.4s all; moz-transition: 1.4s all; ms-transition: 1.4s all; transition: 1.4s all; /* end */&#125;/* start */.site-author-image:hover &#123; background-color: #55DAE1; webkit-transform: rotate(360deg) scale(1.1); moz-transform: rotate(360deg) scale(1.1); ms-transform: rotate(360deg) scale(1.1); transform: rotate(360deg) scale(1.1);&#125;/* end */ 添加背景动画背景的几何线条是采用的nest效果，一个基于html5canvas绘制的网页背景效果，非常赞！来自github的开源项目canvas-nest 特性 使用非常简单 1234color: 线条颜色, 默认: ‘0,0,0’ ；三个数字分别为(R,G,B)，注意用,分割opacity: 线条透明度（0~1）, 默认: 0.5count: 线条的总数量, 默认: 150zIndex: 背景的z-index属性，css属性用于控制所在层的位置, 默认: -1 添加修改代码:next/layout/_layout.swig`，在body标签之前添加如下代码： 123&#123;% if theme.canvas_nest %&#125;&lt;script type=&quot;text/javascript&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;&lt;/script&gt;&#123;% endif %&#125; 打开next/_config.yml，添加以下代码：(新版本的NexT主题已经有了这个特性，把false改成true即可) 12# Canvas-nestcanvas_nest: true]]></content>
      <categories>
        <category>搭建博客</category>
      </categories>
      <tags>
        <tag>NexT</tag>
      </tags>
  </entry>
</search>